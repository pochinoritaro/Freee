{
    "paths": "/api/v1/approval_requests/work_times",
    "tags": [
        "勤務時間修正申請"
    ],
    "summary": "勤務時間修正申請の作成",
    "description": "<h2 id=\"\">概要</h2>\n<p>指定した事業所の勤務時間修正を新規作成します。</p>\n\n<h2 id=\"_1\">注意点</h2>\n<ul>\n  <li>申請経路、承認者の指定として部門役職データ連携を活用し、以下のいずれかを利用している申請と申請経路はAPI経由で参照は可能ですが、作成と更新、承認ステータスの変更ができません。</li>\n  <ul>\n    <li>役職指定（申請者の所属部門）</li>\n    <li>役職指定（申請時に部門指定）</li>\n    <li>部門および役職指定</li>\n  </ul>\n  <li>申請者と承認者が同一ユーザーの場合、feedback(差戻し)をするとレスポンスは以下のようになります。</li>\n  <ul>\n    <li>status: draft</li>\n    <li>approval_flow_logs.action: cancel</li>\n  </ul>\n</ul>",
    "operationId": "create_approval_requests_work_time",
    "requestBody": {
        "content": {
            "application/json": {
                "schema": {
                    "type": "object",
                    "required": [
                        "company_id",
                        "target_date",
                        "approval_flow_route_id"
                    ],
                    "properties": {
                        "company_id": {
                            "type": "integer",
                            "description": "事業所ID（必須）",
                            "format": "int32",
                            "minimum": 1,
                            "maximum": 2147483647,
                            "example": 1
                        },
                        "target_date": {
                            "type": "string",
                            "description": "対象日（必須）",
                            "format": "date",
                            "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
                        },
                        "clear_work_time": {
                            "type": "boolean",
                            "description": "false: 勤務時間を修正する  \ntrue: 勤務時間を削除する\n\n勤務時間を削除する場合は以下のパラメータは指定しないでください。\n- clock_in_at\n- clock_out_at\n- lateness_mins\n- early_leaving_mins\n- break_records",
                            "default": false
                        },
                        "clock_in_at": {
                            "type": "string",
                            "description": "勤務開始時間（条件付き必須）  \n勤務時間を修正する場合は必須",
                            "pattern": "^[0-9]{2}:[0-9]{2}(:[0-9]{2})?$",
                            "example": "12:00"
                        },
                        "clock_out_at": {
                            "type": "string",
                            "description": "勤務終了時間（条件付き必須）  \n勤務時間を修正する場合は必須",
                            "pattern": "^[0-9]{2}:[0-9]{2}(:[0-9]{2})?$",
                            "example": "23:59"
                        },
                        "lateness_mins": {
                            "type": "integer",
                            "description": "遅刻分の時間（分単位）",
                            "format": "int32"
                        },
                        "early_leaving_mins": {
                            "type": "integer",
                            "description": "早退分の時間（分単位）",
                            "format": "int32"
                        },
                        "break_records": {
                            "type": "array",
                            "description": "休憩時間のリスト",
                            "items": {
                                "$ref": "#/components/schemas/ApiV1WorkTimeIndexResponseParams/properties/break_records/items"
                            }
                        },
                        "comment": {
                            "type": "string",
                            "description": "申請理由",
                            "maxLength": 255,
                            "example": "申請理由"
                        },
                        "approval_flow_route_id": {
                            "type": "integer",
                            "description": "申請経路ID（必須）",
                            "format": "int32",
                            "minimum": 1,
                            "maximum": 2147483647,
                            "example": 1
                        },
                        "approver_id": {
                            "type": "integer",
                            "description": "承認者のユーザーID",
                            "format": "int32",
                            "minimum": 1,
                            "maximum": 2147483647,
                            "example": 1
                        }
                    }
                }
            }
        }
    },
    "responses": {
        "201": {
            "description": "successful operation",
            "content": {
                "application/json": {
                    "schema": {
                        "type": "object",
                        "required": [
                            "work_time"
                        ],
                        "properties": {
                            "work_time": {
                                "$ref": "#/components/schemas/ApiV1WorkTimeResponseParams"
                            }
                        }
                    }
                }
            }
        },
        "400": {
            "description": "",
            "content": {
                "application/problem+json": {
                    "schema": {
                        "$ref": "#/components/schemas/error"
                    }
                }
            }
        },
        "401": {
            "description": "",
            "content": {
                "application/json": {
                    "schema": {
                        "$ref": "#/components/schemas/unauthorizedError"
                    }
                }
            }
        },
        "403": {
            "description": "",
            "content": {
                "application/problem+json": {
                    "schema": {
                        "$ref": "#/components/schemas/forbiddenError"
                    }
                },
                "application/json": {
                    "schema": {
                        "$ref": "#/components/schemas/accessDeniedError"
                    }
                }
            }
        },
        "500": {
            "description": "",
            "content": {
                "application/problem+json": {
                    "schema": {
                        "$ref": "#/components/schemas/internalServerError"
                    }
                }
            }
        }
    }
}